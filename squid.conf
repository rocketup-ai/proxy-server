# Squid configuration file

# Disable caching
cache deny all

# Define HTTPS port with SSL certificate and key
https_port 3128 cert=/etc/squid/ssl_cert/mycert.pem key=/etc/squid/ssl_cert/mykey.pem options=NO_SSLv3

# Set up basic authentication
auth_param basic program /usr/local/squid/libexec/basic_ncsa_auth /etc/squid/passwords
auth_param basic realm "Secure Squid Proxy Server"
acl authenticated proxy_auth REQUIRED

# Allow authenticated users
http_access allow authenticated

# Deny all other access
http_access deny all

# Logging settings
access_log /usr/local/squid/var/logs/access.log

# Run as root (inside the container)
cache_effective_user root
cache_effective_group root
